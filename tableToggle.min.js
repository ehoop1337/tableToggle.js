/**
* tableToggle.js
* Function that hides / expands an html table
* @author   Ruslan Sayfutdinov          https://github.com/ehoop1337/tableToggle.js
* @param    {String}    selector        To which DOM element do we apply the function
* @param    {Integer}   visibleElements Number of visible elements <tr>
* @param    {String}    textInButton    Text in the button that appears
* @return   {boolean}                   Returns true if there were no errors in the function
*/
function tableToggle(e,t=0,l="Show more"){const r=document.querySelectorAll(e),o=r.length;let n=!1;if(o>1)for(let e=0;e<o;e++)c(r[e]);else c(document.querySelector(e));function c(e){const r=e,o=r.querySelector("thead"),c=r.querySelector("tbody"),u=r.querySelectorAll("tr"),i=u.length,s=document.createElement("tr"),a=document.createElement("td"),d=document.createElement("button");let g=!1,p=1;!function(e){if(null!=o){let e=o.querySelectorAll("tr");for(let l=0;l<e.length;l++){let r=t(e[l].querySelectorAll("th"));r>p&&(p=r)}}if(null!=c){let e=c.querySelectorAll("tr");for(let l=0;l<e.length;l++){let r=t(e[l].querySelectorAll("td"));r>p&&(p=r)}}function t(e){let t=0;for(let l=0;l<e.length;l++){let r=e[l].getAttribute("colspan");t=null!=r?t+parseInt(r):t+1}return t}d.innerHTML=l,d.style.cursor="pointer",a.appendChild(d),a.setAttribute("align","center"),a.setAttribute("valign","baseline"),a.setAttribute("colspan",p),s.appendChild(a),s.classList.add("toogleTable"),e()}(function(){for(let e=0;e<i;e++)e>=t&&(u[e].style.display="none",0==g&&(g=!0));1==g?(null!=c?c.appendChild(s):null!=o?o.appendChild(s):(console.group("Script execution error tableToggle"),console.error("Error in the table: there is no mandatory thead or tbody tag:"),console.error(r),console.groupEnd(),n=!0),d.addEventListener("click",function(){let e=this.closest("table"),t=e.querySelectorAll("tr"),l=t.length;this.parentNode.parentNode.remove();for(let e=0;e<l;e++)t[e].removeAttribute("style")})):(console.group("Script execution error tableToggle"),console.error("The selected item is not a table:"),console.error(r),console.groupEnd(),n=!0)})}return!n}